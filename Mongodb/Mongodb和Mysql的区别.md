# Mongodb和Mysql的区别

Mysql和Mongodb都属于开源数据库，但是Mysql是传统的关系型数据库，Mongodb则是非关系型数据库，也叫文档型数据库，是NoSql的数据库，他们各有各的优点。

## Mysql

### 特点

- Mysql在不同的存储引擎中有着不同的存储方式。
- 对复杂查询的支持较好
- 原生支持事务

### 缺点

- Mysql的缺点就是在海量的数据处理时，性能会显著降低。

## Mongodb

Mongodb属于文档型数据库，这些文档型数据库可以存放xml、json、bson类型的对象。

### 特点

- 数据结构以key-value的形式构成。
- 存储方式：虚拟内存+持久化（它将热数据存储在物理内存中，使得热数据的读写十分迅速）
- MongoDB的高可用和集群架构拥有十分高的扩展性。
- MongoDB的Bson、Json格式的数据十分适合文档格式的存储与查询。

### 缺点

- 不支持事务操作，Mongodb中本身没有支持事务，如果需要在Mongodb中实现事务机制，需要一张额外的表从逻辑上自行实现事务。
- 不支持join操作以及复杂查询
- Mongodb占用内存较大。

## 应用场景分析

### Mongodb

- 表结构不明确且数据不断变大
MongoDB是非结构化文档数据库，扩展字段很容易且不会影响原有数据。内容管理或者博客平台等，例如圈子系统，存储用户评论之类的。
- 更高的写入负载
MongoDB侧重高数据写入的性能，而非事务安全，适合业务系统中有大量“低价值”数据的场景。本身存的就是json格式数据。例如做日志系统。
- 数据量很大或者将来会变得很大
Mysql单表数据量达到5-10G时会出现明细的性能降级，需要做数据的水平和垂直拆分、库的拆分完成扩展，MongoDB内建了sharding、很多数据分片的特性，容易水平扩展，比较好的适应大数据量增长的需求。
- 高可用性
自带高可用，自动主从切换（副本集）

### Mysql

- 需要支持复杂查询，例如join等操作
- 数据的规模、增长速度时可预期的
- 需要事务支持，强一致性

### 总结

NoSQL适合存储非结构化数据，如文章、评论：
1）这些数据通常用于模糊处理，如全文搜索、机器学习
2）这些数据是海量的，而且增长的速度是难以预期的，
3）根据数据的特点，NoSQL数据库通常具有无限伸缩性
4）按key获取数据效率很高，但是对join或其他结构化查询的支持就比较差

